# Stateful 컴포넌트

Stateful 컴포넌트는 늘 클래스 컴포넌트입니다. 앞서 얘기했듯이 stateful 컴포넌트에는 생성자에서 초기화되는 state가 있습니다.

# Stateless 컴퍼넌트

stateless 컴포넌트를 만드는 데 함수형이나 클래스를 사용하면 됩니다.

그러나 컴포넌트에서 라이프사이클을 적용해야만 stateless 함수형 컴포넌트의 가치를 갖게 됩니다. 여기에서 stateless 함수형 컴포넌트를 사용하고자 결정한다면 이득이 많이 있습니다.

작성하고 이해하며 테스트하기가 용이합니다. 그리고 this 키워드를 모두 적지 않아도 됩니다. 그렇지만 React v16이 나온 현재로서는 클래스 컴포넌트를 사용하는 것보다 stateless 함수형 컴포넌트를 사용하는 게 성능상 이득이 있지는 않습니다.

안좋은 점은 여러분이 라이프사이클을 활용하지 못한다는 것입니다. 라이프사이클 메서드인 ShouldComponentUpdate()는 종종 성능을 최적화하고 렌더링 시킬 것을 수동으로 제어하는 데 쓰입니다. 아직까지는 함수형 컴포넌트에서 그 메서드를 적용하지 못합니다. 참조자(refs)도 지원되지 않습니다.

---

Stateless 함수형 컴포너트는 보다 명쾌하며, 프레젠테이셔널 컴포넌트를 제작하는 데 일반적ㅇ로 좋은 선택이 됩니다. 함수형일 뿐이므로 작성하고 이해하는 데 어려움을 겪지 않을 것입니다. 더구나 테스트 하기에도 아주 쉽습니다.

stateless 함수형 컴포넌트는 ShouldComponentUpdate() 메서드가 없다는 이유로 최적화와 성능에서 우위라는 것은 아니라는 점을 알고 계세요. React 이후 버전에서 바뀔 지 모릅니다. 거기에서는 함수형 컴포넌트가 더 나은 성능을 위해 최적화될 지도 모릅니다. 여러분에게 성능이 중요하지 않다면 뷰/프레젠테이션 용으로 함수형 컴포넌트를, 컨테이너 용으로 stateful 클래스 컴포넌트를 고수하세요.

현재 함수형 컴포넌트에는 따로 성능 최적화가 이뤄지지 않았기 때문에 작동함에 있어서의 성능은 클래스형 컴포넌트와 다를바가 없습니다. 이전에 리액트 팀에서 함수형 컴포넌트의 성능을 언젠간 최적화하겠다고 예고한 바 있었지만, 일부 상황에서 제대로 동작하지 않는 오류가 있어서 PureComponent 를 따로 개발하고 이 계획은 무산으로 됐다고 합니다(이 소식은 Reddit 에서 봤습니다. 자세한 근거는 아닙니다)

5월 11일 수정 : 함수형 컴포넌트를 사용 할 때 첫 마운팅 속도에 있어서는 7% ~ 11% 빠릅니다. (https://github.com/missive/functional-components-benchmark)

UPDATE: 리액트 16에서는 함수형 컴포넌트가 성능이 조금 더 빨라졌다고 페이스북 개발자가 언급했습니다.

https://velopert.com/2994
https://code.tutsplus.com/ko/tutorials/stateful-vs-stateless-functional-components-in-react--cms-29541
