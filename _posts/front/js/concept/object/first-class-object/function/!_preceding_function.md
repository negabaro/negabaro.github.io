https://stackoverflow.com/questions/5422585/preceding-function-in-javascript
