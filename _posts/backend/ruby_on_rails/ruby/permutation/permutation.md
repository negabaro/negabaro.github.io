Ruby / Rails関連
 2020.02.20
Ruby: Array#permutationでクイズを解いてみた
 hachi8833
 シェア
 
 ツイート
 
 ブックマーク
 
 LINE
お題

ケイセイ＠JavaScriptと仲良くなりたい
@keisei_otsuka
これをjsで解けと会社の上司に言われたんですが全然わからん。
誰かわかります？笑

View image on Twitter
336
2:33 PM - Feb 2, 2020
Twitter Ads info and privacy
137 people are talking about this
Facebookで上の問題が流れてきたので、スレ（解答）を見ないようにしてRubyでやってみました。答えはたった1つというのがヒント。

なお、問題文は1から9までの数字を「1回だけ使う」のかどうか微妙にはっきりしませんでしたが、1回だけの前提で突っ走りました。

Array#permutation
まともにやれば9!（9x8x7…x2）回の実行回数が必要になることぐらいは見当が付きました。

帰りの電車の中で書き始めましたが、組み合わせを網羅するための順列アルゴリズムをスクラッチで書くのは思ったより面倒そう…😅。

帰宅後きっとあるだろうと思ってググると、やはりArray#permutationがありました。

ドキュメント: Array#permutation (Ruby 2.7.0 リファレンスマニュアル)
[2, 3, 11, 16].permutation.to_a
#=> [[2, 3, 11, 16], [2, 3, 16, 11], [2, 11, 3, 16], 
# [2, 11, 16, 3], [2, 16, 3, 11], [2, 16, 11, 3],
# [3, 2, 11, 16], [3, 2, 16, 11], [3, 11, 2, 16],
# [3, 11, 16, 2], [3, 16, 2, 11], [3, 16, 11, 2],
# [11, 2, 3, 16], [11, 2, 16, 3], [11, 3, 2, 16],
# [11, 3, 16, 2], [11, 16, 2, 3], [11, 16, 3, 2], 
# [16, 2, 3, 11], [16, 2, 11, 3], [16, 3, 2, 11],
# [16, 3, 11, 2], [16, 11, 2, 3], [16, 11, 3, 2]]
欲しかったのはこれです😋。なお、to_aしないとEnumeratorオブジェクトを返します。

[2, 6, 9, 12].permutation
#=> #<Enumerator: [2, 6, 9, 12]:permutation>

https://techracho.bpsinc.jp/hachi8833/2020_02_20/88192
