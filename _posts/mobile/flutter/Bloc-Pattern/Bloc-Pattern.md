

## Bloc Pattern

BLoCパターンは、Business Logic Componentの略ですね。

ビジネスロジックを1つのコンポーネントとして管理することで、UIと明確に責務を分割するために利用するアーキテクチャであると私は解釈しています。

BLoCパターンについては、下の動画でみっちり解説されているので参考にしましょう。
参考：https://www.youtube.com/watch?v=PLHln7wHgPE


## FlutterでBLoCパターンアーキテクチャを導入した理由
FlutterでBLoCパターンのアーキテクチャを導入した理由としては下記です。

単純にファイルごとの責務分割をしてデータの流れを一方通行にしたかったため
楽にリビルドを最小限に抑える実装にしたかったため
状態を一箇所にまとめることでコードの見通しがよくしたかったため
Flutterで開発している時に、1ファイルで結構なんでも出来てしまっていました。

それこそ、サーバーへリクエストして、レスポンスのJsonをデコードしてモデルにオブジェクトをマッピングして、マッピングされたデータを取り出して、UIに描画するみたいなことが、1ファイルで出来てしまったのです。

ファイルがきちんと責務分割されていない上に、色んな方向にデータが飛び交っていたことから、開発メンバーが機能追加したら原因不明のバグ(解析にアホほど時間がかかるという意味の)が頻繁に起きていました。

また、状態管理について特に何も考えていなかったため、Android StudioのFlutter Performanceを見ると、えげつないくらいリビルドが走っていました。

それと、ページ遷移をする際にNavigator.of(context).push()の引数でオブジェクトを渡しまくっていて、Widgetごとに状態を管理する状況で、状態管理が超絶煩雑になってしまっており、新しいページを追加したり、機能追加するたびに脳内のメモリが持って行かれていました。

とにかく、カオスな状況を打開したくて、BLoCパターンのアーキテクチャを導入しようと思ったわけです。

## 메모

BLoCパターンでは、Streamを利用するため、アーキテクチャ導入を検討している人は、async libraryについて理解しておく必要があると思っています。

※上記のBLoCパターンでは、Dart標準のStreamではなくRxDartを利用している


---

【Dart/Flutter】導入したBLoCパターンアーキテクチャについて全体像をまとめてみた
https://qiita.com/arthur_foreign/items/4b1bf1892439780c4690

https://www.youtube.com/watch?v=PgEvawMlRgQ
https://github.com/sudar-life/flutter-bloc-sample
